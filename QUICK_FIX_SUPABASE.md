# Supabase è¿æ¥é—®é¢˜ - å¿«é€Ÿä¿®å¤æŒ‡å—

## ğŸ” å½“å‰é—®é¢˜

DNS æ— æ³•è§£æ `db.llvvfsoycpfwomhoryga.supabase.co`ï¼Œè¿™æ„å‘³ç€ï¼š

**Supabase é¡¹ç›®å¯èƒ½ä¸å­˜åœ¨ã€å·²è¢«åˆ é™¤æˆ–ä»åœ¨åˆ›å»ºä¸­ã€‚**

## âœ… ç«‹å³è¡ŒåŠ¨

### æ­¥éª¤ 1ï¼šæ£€æŸ¥ Supabase é¡¹ç›®çŠ¶æ€

1. **è®¿é—® Supabase Dashboard**ï¼š
   - æ‰“å¼€ï¼šhttps://supabase.com/dashboard
   - ç™»å½•ä½ çš„è´¦å·

2. **æŸ¥æ‰¾é¡¹ç›®**ï¼š
   - æŸ¥çœ‹é¡¹ç›®åˆ—è¡¨
   - æŸ¥æ‰¾é¡¹ç›® ID åŒ…å« `llvvfsoycpfwomhoryga` çš„é¡¹ç›®
   - æˆ–æŸ¥æ‰¾é¡¹ç›®åç§°ï¼ˆå¯èƒ½æ˜¯ `supafinder` æˆ–å…¶ä»–åç§°ï¼‰

3. **æ£€æŸ¥é¡¹ç›®çŠ¶æ€**ï¼š
   - âœ… **Active** - é¡¹ç›®æ­£å¸¸è¿è¡Œï¼ˆä½† DNS å¯èƒ½è¿˜æœªä¼ æ’­ï¼‰
   - â³ **Pending** - é¡¹ç›®è¿˜åœ¨åˆ›å»ºä¸­ï¼ˆç­‰å¾… 2-5 åˆ†é’Ÿï¼‰
   - âŒ **Paused** - é¡¹ç›®å·²æš‚åœï¼ˆéœ€è¦æ¢å¤ï¼‰
   - âŒ **ä¸å­˜åœ¨** - é¡¹ç›®å·²è¢«åˆ é™¤æˆ–ä»æœªåˆ›å»º

### æ­¥éª¤ 2ï¼šæ ¹æ®é¡¹ç›®çŠ¶æ€é‡‡å–è¡ŒåŠ¨

#### æƒ…å†µ Aï¼šé¡¹ç›®ä¸å­˜åœ¨æˆ–å·²è¢«åˆ é™¤

**éœ€è¦åˆ›å»ºæ–°é¡¹ç›®ï¼š**

1. **åˆ›å»ºæ–°é¡¹ç›®**ï¼š
   - åœ¨ Supabase Dashboard ç‚¹å‡» "New Project"
   - å¡«å†™é¡¹ç›®ä¿¡æ¯ï¼š
     - **Name**: `supafinder`ï¼ˆæˆ–ä»»ä½•åç§°ï¼‰
     - **Database Password**: è®¾ç½®ä¸€ä¸ªå¼ºå¯†ç ï¼ˆ**ä¿å­˜å¥½ï¼**ï¼‰
     - **Region**: é€‰æ‹©ç¦»ä½ æœ€è¿‘çš„åŒºåŸŸ
   - ç‚¹å‡» "Create new project"
   - **ç­‰å¾…é¡¹ç›®åˆ›å»ºå®Œæˆ**ï¼ˆçº¦ 2-5 åˆ†é’Ÿï¼‰

2. **è·å–æ–°çš„è¿æ¥ä¿¡æ¯**ï¼š
   - é¡¹ç›®åˆ›å»ºå®Œæˆåï¼Œè¿›å…¥ **Settings** â†’ **Database**
   - æ‰¾åˆ° **Connection string** éƒ¨åˆ†
   - å¤åˆ¶ä»¥ä¸‹ä¿¡æ¯ï¼š
     - **Host**: `db.xxxxx.supabase.co`ï¼ˆæ–°çš„é¡¹ç›® IDï¼‰
     - **Port**: `5432`
     - **Database**: `postgres`
     - **User**: `postgres`
     - **Password**: ä½ è®¾ç½®çš„å¯†ç 

3. **æ›´æ–° .env æ–‡ä»¶**ï¼š
   ```bash
   cd /Users/chrissychen/Documents/PhD_Final_Year/SuperFinder
   
   # ç¼–è¾‘ .env æ–‡ä»¶ï¼Œæ›´æ–°ä»¥ä¸‹å†…å®¹ï¼š
   DB_HOST=db.xxxxx.supabase.co  # æ–°çš„ä¸»æœºå
   DB_PASSWORD=your-new-password  # æ–°çš„å¯†ç 
   ```

4. **æµ‹è¯•è¿æ¥**ï¼š
   ```bash
   python scripts/test_supabase_project.py
   ```

#### æƒ…å†µ Bï¼šé¡¹ç›®å­˜åœ¨ä½†çŠ¶æ€æ˜¯ Pending

**ç­‰å¾…é¡¹ç›®åˆ›å»ºå®Œæˆï¼š**

1. åˆ·æ–° Supabase Dashboard
2. ç­‰å¾…é¡¹ç›®çŠ¶æ€å˜ä¸º **Active**ï¼ˆé€šå¸¸ 2-5 åˆ†é’Ÿï¼‰
3. çŠ¶æ€å˜ä¸º Active åï¼Œç­‰å¾… 1-2 åˆ†é’Ÿè®© DNS ä¼ æ’­
4. ç„¶åè¿è¡Œæµ‹è¯•ï¼š
   ```bash
   python scripts/test_supabase_project.py
   ```

#### æƒ…å†µ Cï¼šé¡¹ç›®å­˜åœ¨ä¸”çŠ¶æ€æ˜¯ Active

**ä½† DNS ä»æ— æ³•è§£æï¼š**

1. **éªŒè¯ä¸»æœºå**ï¼š
   - åœ¨ Supabase Dashboard â†’ Settings â†’ Database
   - ç¡®è®¤ **Host** åœ°å€ä¸ `.env` æ–‡ä»¶ä¸­çš„ `DB_HOST` å®Œå…¨ä¸€è‡´
   - æ³¨æ„ï¼šä¸»æœºåæ ¼å¼åº”è¯¥æ˜¯ `db.xxxxx.supabase.co`

2. **ç­‰å¾… DNS ä¼ æ’­**ï¼š
   - æ–°åˆ›å»ºçš„é¡¹ç›®å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿè®© DNS ä¼ æ’­
   - ç­‰å¾… 5-10 åˆ†é’Ÿåé‡è¯•

3. **æµ‹è¯• DNS è§£æ**ï¼š
   ```bash
   nslookup db.xxxxx.supabase.co  # æ›¿æ¢ä¸ºä½ çš„å®é™…ä¸»æœºå
   ```

4. **å¦‚æœä»ç„¶æ— æ³•è§£æ**ï¼š
   - å°è¯•ä½¿ç”¨ä¸åŒçš„ DNS æœåŠ¡å™¨ï¼ˆå¦‚ Google DNS: 8.8.8.8ï¼‰
   - æˆ–è”ç³» Supabase æ”¯æŒ

#### æƒ…å†µ Dï¼šé¡¹ç›®è¢«æš‚åœ

**æ¢å¤é¡¹ç›®ï¼š**

1. åœ¨ Supabase Dashboard ä¸­æ‰¾åˆ°é¡¹ç›®
2. ç‚¹å‡» "Resume" æˆ– "Restore" æ¢å¤é¡¹ç›®
3. ç­‰å¾…é¡¹ç›®æ¢å¤å®Œæˆ
4. ç„¶åæµ‹è¯•è¿æ¥

## ğŸ”§ åˆ›å»ºæ–°é¡¹ç›®ï¼ˆæ¨èï¼‰

å¦‚æœé¡¹ç›®ä¸å­˜åœ¨ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯åˆ›å»ºæ–°é¡¹ç›®ï¼š

### è¯¦ç»†æ­¥éª¤

1. **è®¿é—® Supabase**ï¼š
   - https://supabase.com
   - ç™»å½•æˆ–æ³¨å†Œè´¦å·

2. **åˆ›å»ºé¡¹ç›®**ï¼š
   - ç‚¹å‡» "New Project"
   - **Organization**: é€‰æ‹©æˆ–åˆ›å»ºç»„ç»‡
   - **Name**: `supafinder`
   - **Database Password**: è®¾ç½®å¼ºå¯†ç ï¼ˆ**é‡è¦ï¼šä¿å­˜å¥½ï¼**ï¼‰
   - **Region**: é€‰æ‹©æœ€è¿‘çš„åŒºåŸŸï¼ˆå¦‚ `Southeast Asia (Singapore)`ï¼‰
   - ç‚¹å‡» "Create new project"

3. **ç­‰å¾…åˆ›å»ºå®Œæˆ**ï¼š
   - é€šå¸¸éœ€è¦ 2-5 åˆ†é’Ÿ
   - ç­‰å¾…çŠ¶æ€å˜ä¸º **Active**

4. **è·å–è¿æ¥ä¿¡æ¯**ï¼š
   - é¡¹ç›®åˆ›å»ºå®Œæˆåï¼Œè¿›å…¥ **Settings** â†’ **Database**
   - åœ¨ **Connection string** éƒ¨åˆ†æ‰¾åˆ°ï¼š
     - **Host**: `db.xxxxx.supabase.co`ï¼ˆæ³¨æ„æ–°çš„é¡¹ç›® IDï¼‰
     - **Port**: `5432`
     - **Database**: `postgres`
     - **User**: `postgres`
     - **Password**: ä½ è®¾ç½®çš„å¯†ç 

5. **æ›´æ–° .env æ–‡ä»¶**ï¼š
   ```bash
   # ç¼–è¾‘ .env æ–‡ä»¶
   nano .env
   # æˆ–ä½¿ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨
   ```

   æ›´æ–°ä»¥ä¸‹å†…å®¹ï¼š
   ```env
   DB_TYPE=postgresql
   DB_HOST=db.xxxxx.supabase.co  # æ–°çš„ä¸»æœºå
   DB_PORT=5432
   DB_NAME=postgres
   DB_USER=postgres
   DB_PASSWORD=your-new-password  # æ–°çš„å¯†ç 
   DB_SSLMODE=require
   ```

6. **æµ‹è¯•è¿æ¥**ï¼š
   ```bash
   source .venv/bin/activate
   python scripts/test_supabase_project.py
   ```

   å¦‚æœçœ‹åˆ° "âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼"ï¼Œç»§ç»­ä¸‹ä¸€æ­¥ã€‚

7. **è¿è¡Œè¿ç§»**ï¼š
   ```bash
   python scripts/migrate_to_supabase.py
   ```

## ğŸ“ éªŒè¯æ¸…å•

åœ¨è¿è¡Œè¿ç§»ä¹‹å‰ï¼Œç¡®è®¤ï¼š

- [ ] Supabase é¡¹ç›®å·²åˆ›å»ºä¸”çŠ¶æ€ä¸º **Active**
- [ ] å·²è·å–æ­£ç¡®çš„è¿æ¥ä¿¡æ¯ï¼ˆHost, Port, Database, User, Passwordï¼‰
- [ ] `.env` æ–‡ä»¶å·²æ›´æ–°å¹¶åŒ…å«æ­£ç¡®çš„é…ç½®
- [ ] å¯†ç å·²æ­£ç¡®è®¾ç½®ï¼ˆä¸æ˜¯å ä½ç¬¦ï¼‰
- [ ] DNS å¯ä»¥è§£æä¸»æœºåï¼ˆ`nslookup` æˆåŠŸï¼‰
- [ ] æµ‹è¯•è¿æ¥è„šæœ¬é€šè¿‡ï¼ˆ`test_supabase_project.py`ï¼‰

## ğŸ†˜ å¦‚æœä»ç„¶æ— æ³•è¿æ¥

1. **æ£€æŸ¥ Supabase çŠ¶æ€**ï¼š
   - è®¿é—®ï¼šhttps://status.supabase.com
   - ç¡®è®¤ Supabase æœåŠ¡æ­£å¸¸è¿è¡Œ

2. **è”ç³» Supabase æ”¯æŒ**ï¼š
   - å¦‚æœé¡¹ç›®å­˜åœ¨ä½†æ— æ³•è¿æ¥
   - åœ¨ Supabase Dashboard ä¸­æäº¤æ”¯æŒè¯·æ±‚

3. **ä¸´æ—¶è§£å†³æ–¹æ¡ˆ**ï¼š
   - æš‚æ—¶ç»§ç»­ä½¿ç”¨æœ¬åœ° SQLite
   - ç¨åå†è¿ç§»åˆ°äº‘ç«¯

## ğŸ“š ç›¸å…³æ–‡æ¡£

- `CLOUD_DATABASE_SETUP.md` - å®Œæ•´çš„äº‘ç«¯æ•°æ®åº“è®¾ç½®æŒ‡å—
- `SUPABASE_CONNECTION_TROUBLESHOOTING.md` - è¯¦ç»†çš„æ•…éšœæ’é™¤æŒ‡å—
- `scripts/test_supabase_project.py` - è¿æ¥æµ‹è¯•è„šæœ¬

---

**ä¸‹ä¸€æ­¥**ï¼šè¯·è®¿é—® https://supabase.com/dashboard æ£€æŸ¥é¡¹ç›®çŠ¶æ€ï¼Œç„¶åå‘Šè¯‰æˆ‘ç»“æœï¼

